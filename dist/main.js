(()=>{"use strict";const t=(t,e,n,o="important",c=!1)=>({id:Date.now(),title:t,desc:e,dueDate:n,priority:o,completed:c}),e="very important",n={default:[],home:[],work:[]},o=(t,e="default")=>(n[e].push(t),n),c=t("Milk","Buy some milk for the cat","Some day",e),d=t("Writing","Write some text to my book","Today","not important",!0),i=t("Buy cat food","Buy some kitekat","Today",e);var r;o(c),o(d),o(i),console.log(n),function(t){const e=document.getElementById("main"),n=document.createElement("h1");n.textContent="Lika i Ya",n.setAttribute("id","mainHeader"),e.appendChild(n)}(),function(){const t=document.getElementById("main"),e=document.createElement("div");e.setAttribute("id","mainDiv"),t.appendChild(e)}(),function(t){const e=document.querySelector("#projects-div"),o=Object.keys(t);e.innerHTML="";const c=document.createElement("h3");c.textContent="Projects",e.appendChild(c),o.forEach((t=>{const n=document.createElement("button");n.classList.add("projects-list-button"),n.textContent=t,e.appendChild(n)})),function(t){const e=document.querySelector("#projects-div"),o=document.createElement("button");o.textContent="+",o.setAttribute("id","add-new-project-btn"),e.appendChild(o),o.addEventListener("click",(()=>{const t=document.createElement("form");t.classList.add("input-field");const c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("id","project-input"),c.setAttribute("maxlength","24"),c.setAttribute("placeholder","Enter project name");const d=document.createElement("button");d.setAttribute("type","button"),d.setAttribute("id","add-project-btn"),d.textContent="Add";const i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("id","cancel-add-project-btn"),i.textContent="Cancel",t.appendChild(c),t.appendChild(d),t.appendChild(i),e.appendChild(t),o.setAttribute("disabled",!0),function(){const t=document.getElementById("add-project-btn"),e=document.querySelector("#cancel-add-project-btn");t.addEventListener("click",(()=>{const t=document.getElementById("project-input").value;n[t]=[],console.table(n)})),e.addEventListener("click",(()=>{const t=document.querySelector(".input-field"),e=document.querySelector("#add-new-project-btn");t&&t.remove(),e.removeAttribute("disabled")}))}()}))}()}(n),r=n,document.querySelectorAll(".projects-list-button").forEach((t=>{t.addEventListener("click",(()=>{mainHeader.textContent=t.textContent,console.log(r[t.textContent]);const e=document.createElement("ul");r[t.textContent].forEach((t=>{const n=document.createElement("li");n.classList.add("li-element"),Object.keys(t).forEach((e=>{if("title"===e||"desc"===e||"dueDate"===e){const o=document.createElement("p");o.innerHTML=t[e],n.appendChild(o)}})),e.appendChild(n)})),mainDiv.innerHTML="",mainDiv.appendChild(e)}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUdwQm5DLFFBQVFxQyxNQUFNOUMsRUFBUyxJQUkzQjJDLEVBQVVOLGlCQUFpQixTQUFTLEtBQ2hDLE1BQU1DLEVBQU96QixTQUFTVyxjQUFjLGdCQUM5QlEsRUFBU25CLFNBQVNXLGNBQWMsd0JBQ2xDYyxHQUFNQSxFQUFLUyxTQUNmZixFQUFPZ0IsZ0JBQWdCLFdBQVcsR0FHMUMsQ0F2QlFDLEVBQW1CLEdBRzNCLENBaEdJVCxFQUdKLENERkFVLENBQXFDbEQsR0NnQkxRLEVEZGhCUixFQ2dCSWEsU0FBU3NDLGlCQUFpQix5QkFFbENyQixTQUFRRSxJQUVaQSxFQUFPSyxpQkFBaUIsU0FBUyxLQUU3QnRCLFdBQVdFLFlBQWNlLEVBQU9mLFlBQ2hDUixRQUFRQyxJQUFJRixFQUFTd0IsRUFBT2YsY0FFNUIsTUFBTW1DLEVBQUt2QyxTQUFTRyxjQUFjLE1BRWxDUixFQUFTd0IsRUFBT2YsYUFBYWEsU0FBUXVCLElBRWpDLE1BQU1DLEVBQUt6QyxTQUFTRyxjQUFjLE1BQ2xDc0MsRUFBR3JCLFVBQVVDLElBQUksY0FFakJSLE9BQU9DLEtBQUswQixHQUFNdkIsU0FBUUMsSUFFdEIsR0FBWSxVQUFSQSxHQUEyQixTQUFSQSxHQUEwQixZQUFSQSxFQUFtQixDQUV4RCxNQUFNd0IsRUFBSTFDLFNBQVNHLGNBQWMsS0FFakN1QyxFQUFFM0IsVUFBWXlCLEVBQUt0QixHQUVuQnVCLEVBQUduQyxZQUFZb0MsRUFDbkIsS0FHSkgsRUFBR2pDLFlBQVltQyxFQUFHLElBR3RCakMsUUFBUU8sVUFBWSxHQUVwQlAsUUFBUUYsWUFBWWlDLEVBQUcsR0FFMUIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvLWRvLy4vc3JjL2NyZWF0ZVRvRG8uanMiLCJ3ZWJwYWNrOi8vdG8tZG8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG8tZG8vLi9zcmMvVUkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy9GYWN0b3J5IGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyB0by1kbyBvYmplY3RzXG5leHBvcnQgY29uc3QgY3JlYXRlVG9EbyA9ICh0aXRsZSwgZGVzYywgZHVlRGF0ZSwgcHJpb3JpdHkgPSBcImltcG9ydGFudFwiLCBjb21wbGV0ZWQgPSBmYWxzZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkIDogRGF0ZS5ub3coKSxcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIGRlc2MsXG4gICAgICAgIGR1ZURhdGUsXG4gICAgICAgIHByaW9yaXR5LCBcbiAgICAgICAgY29tcGxldGVkXG4gICAgfVxufTtcblxuLy8gT2JqZWN0IHRoYXQgaG9sZHMgcHJpb3JpdGllc1xuZXhwb3J0IGNvbnN0IHByaW9yaXRpZXMgPSB7XG4gICAgXCJ2ZXJ5XCI6IFwidmVyeSBpbXBvcnRhbnRcIixcbiAgICBcImltcG9ydGFudFwiOiBcImltcG9ydGFudFwiLFxuICAgIFwibm90XCI6IFwibm90IGltcG9ydGFudFwiLFxufTtcblxuLy8gT2JqIHRoYXQgc3RvcmVzIHRvLWRvcyBhcnJheXMgYW5kIHByb2plY3QgbmFtZXNcblxuZXhwb3J0IGNvbnN0IHRvRG9zT2JqID0ge1xuICAgIFwiZGVmYXVsdFwiOiBbXSxcbiAgICBcImhvbWVcIjogW10sXG4gICAgXCJ3b3JrXCI6IFtdLFxufTtcblxuLy8gRnVuY3Rpb24gdG8gYWRkIHRvLWRvcyB0byB0b0RvcyBvYmplY3RcblxuZXhwb3J0IGNvbnN0IGFkZFRvRG9PYmogPSAodG9EbywgcHJvamVjdCA9IFwiZGVmYXVsdFwiKSA9PiB7XG4gICAgdG9Eb3NPYmpbcHJvamVjdF0ucHVzaCh0b0RvKTtcbiAgICByZXR1cm4gdG9Eb3NPYmo7XG59O1xuXG4vLyBGdW5jdGlvbiB0byBhZGQgbmV3IHByb2plY3RzXG5cbmV4cG9ydCBjb25zdCBhZGROZXdQcm9qZWN0ID0gKHByb2plY3ROYW1lKSA9PiB7XG4gICAgdG9Eb3NPYmpbcHJvamVjdE5hbWVdID0gW107XG4gICAgcmV0dXJuIHRvRG9zT2JqO1xufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuIiwiaW1wb3J0IHsgY3JlYXRlVG9EbywgcHJpb3JpdGllcywgdG9Eb3NPYmosIGFkZFRvRG9PYmosIGFkZE5ld1Byb2plY3QgfSBmcm9tIFwiLi9jcmVhdGVUb0RvXCI7XG5pbXBvcnQgeyBjcmVhdGVNYWluRGl2LCBjcmVhdGVCdXR0b25zRm9yRWFjaFByb2plY3RPblNpZGViYXIsIGNyZWF0ZUhlYWRlciwgZGlzcGxheVByb2plY3RzIH0gZnJvbSBcIi4vVUlcIjtcbi8vIGltcG9ydCB7IGFsZXJ0RGF0ZSB9IGZyb20gXCIuL2RhdGVzXCI7XG5cbi8vIGNyZWF0aW5nIHRocmVlIG5ldyB0b2RvcyB3aXRoIGNyZWF0ZVRvRG8gZnVuY3Rpb25cbmNvbnN0IG5ld0RvID0gY3JlYXRlVG9EbyhcIk1pbGtcIiwgXCJCdXkgc29tZSBtaWxrIGZvciB0aGUgY2F0XCIsIFwiU29tZSBkYXlcIiwgcHJpb3JpdGllcy52ZXJ5KTtcbmNvbnN0IGFub3RoZXJEbyA9IGNyZWF0ZVRvRG8oXCJXcml0aW5nXCIsIFwiV3JpdGUgc29tZSB0ZXh0IHRvIG15IGJvb2tcIiwgXCJUb2RheVwiLCBwcmlvcml0aWVzLm5vdCwgdHJ1ZSk7XG5jb25zdCB0aGlyZFRvRG8gPSBjcmVhdGVUb0RvKFwiQnV5IGNhdCBmb29kXCIsIFwiQnV5IHNvbWUga2l0ZWthdFwiLCBcIlRvZGF5XCIsIHByaW9yaXRpZXMudmVyeSk7XG5cbi8vIGZ1bmN0aW9uIGFkZGluZ05ld1Byb2plY3QobmFtZSkgeyAhISFDYW4gYmUgZG9uZSBsYXRlciBsaWtlIHRoaXMhISFcbi8vICAgICBhZGROZXdQcm9qZWN0KG5hbWUpO1xuLy8gICAgIGNyZWF0ZUJ1dHRvbnNGb3JFYWNoUHJvamVjdE9uU2lkZWJhcih0b0Rvc09iaik7XG4vLyAgICAgZGlzcGxheVByb2plY3RzKHRvRG9zT2JqKTtcbi8vIH1cblxuLy8gYWRkaW5nIHByZXZpb3VzbHkgY3JlYXRlZCB0b2RvcyB0byB0aGUgb2JqZWN0IGhvbGRpbmcgdG9kb3Mgd2l0aCB0aGUgYWRkVG9Eb09iaiBmdW5jdGlvblxuYWRkVG9Eb09iaihuZXdEbyk7XG5hZGRUb0RvT2JqKGFub3RoZXJEby8qLCBlLmcuIGhvbWUqLyk7IC8vIG9wdGlvbmFsIGFyZ3VtZW50IHRoYXQgc3BlY2lmaWVzIHRoZSBwcm9qZWN0IHRvIHB1dCB0aGUgdG8tZG8gaW50b1xuYWRkVG9Eb09iaih0aGlyZFRvRG8pO1xuXG5cbi8vIGNvbnNvbGUudGFibGUodG9Eb3NPYmpbXCJob21lXCJdKTtcbi8vIGNvbnNvbGUudGFibGUodG9Eb3NPYmpbXCJkZWZhdWx0XCJdKTtcblxuY29uc29sZS5sb2codG9Eb3NPYmopXG5cblxuLy8gY3JlYXRpbmcgdGhlIGhlYWRlciBmb3IgdGhlIG1haW5EaXZcbmNyZWF0ZUhlYWRlcihcIkxpa2EgaSBZYVwiKTtcblxuLy9yZW5kZXJpbmcgdGhlIG1haW5EaXYgaW50byB0aGUgbWFpbiBcbmNyZWF0ZU1haW5EaXYoKTtcblxuLy8gcmVuZGVyaW5nIHRoZSBwcm9qZWN0IG5hbWVzIGludG8gYnV0dG9ucyBmcm9tIHRoZSBvYmplY3QgdG8gdGhlIHByb2plY3RzLWRpdlxuY3JlYXRlQnV0dG9uc0ZvckVhY2hQcm9qZWN0T25TaWRlYmFyKHRvRG9zT2JqKTtcblxuZGlzcGxheVByb2plY3RzKHRvRG9zT2JqKTtcblxuLy8gYWRkaW5nTmV3UHJvamVjdChcIm15c3Rpa2FsbGxcIik7IiwiaW1wb3J0IHsgdG9Eb3NPYmogfSBmcm9tIFwiLi9jcmVhdGVUb0RvXCI7XG5pbXBvcnQgeyBhZGROZXdQcm9qZWN0IH0gZnJvbSBcIi4vY3JlYXRlVG9Eb1wiO1xuXG4vL0Z1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgZGl2IGluc2lkZSB0aGUgbWFpbiBwYXJ0IG9mIHRoZSBzY3JlZW5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNYWluRGl2KCkge1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gICAgY29uc3QgbWFpbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbWFpbkRpdi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm1haW5EaXZcIik7XG4gICAgbWFpbi5hcHBlbmRDaGlsZChtYWluRGl2KTtcbiAgICBcbiAgICByZXR1cm4geyBtYWluLCBtYWluRGl2IH1cbn07XG5cbi8vIEZ1bmN0aW9uIHRvIHJlbmRlciB0aGUgcHJvamVjdHMgdG8gdGhlIERPTSBhcyBidXR0b25zIChpbnRvIHRoZSBwcm9qZWN0cy1kaXYpLCBleHBvcnRlZCB0byB1c2UgaW4gaW5kZXguanNcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCdXR0b25zRm9yRWFjaFByb2plY3RPblNpZGViYXIocHJvamVjdHMpIHtcbiAgICBjb25zdCBwcm9qZWN0c0RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdHMtZGl2XCIpO1xuICAgIGNvbnN0IHByb2plY3RzS2V5cyA9IE9iamVjdC5rZXlzKHByb2plY3RzKTtcblxuICAgIC8vQ2xlYXIgb3V0IHRoZSBwcm9qZWN0cyBkaXYgZmlyc3QgQUxXQVlTIENMRUFSIE9VVCBCRUZPUkUgQURESU5HIE5FV1xuICAgIHByb2plY3RzRGl2LmlubmVySFRNTCA9IFwiXCI7XG4gICAgY29uc3QgcHJvamVjdEhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICBwcm9qZWN0SGVhZGVyLnRleHRDb250ZW50ID0gXCJQcm9qZWN0c1wiO1xuXG4gICAgcHJvamVjdHNEaXYuYXBwZW5kQ2hpbGQocHJvamVjdEhlYWRlcik7XG5cbiAgICAvL0NyZWF0aW5nIGJ1dHRvbnMgZnJvbSB0b0Rvc09iaiBrZXlzXG4gICAgcHJvamVjdHNLZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0cy1saXN0LWJ1dHRvblwiKTtcbiAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0ga2V5O1xuICAgICAgICBwcm9qZWN0c0Rpdi5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgIH0pO1xuXG4gICAgYWRkUHJvamVjdEJ1dHRvbihcIitcIik7XG5cbiAgICByZXR1cm4gcHJvamVjdHNEaXY7XG59O1xuXG4vLyBGdW5jdGlvbiB0byBjcmVhdGUgdGhlIG1haW5EaXYgaGVhZGVyIHRoYXQgc2hvdWxkIGJlIHVwZGF0ZWRcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIZWFkZXIobmFtZSkge1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gICAgY29uc3QgbWFpbkhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICBtYWluSGVhZGVyLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBtYWluSGVhZGVyLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibWFpbkhlYWRlclwiKTtcbiAgICBtYWluLmFwcGVuZENoaWxkKG1haW5IZWFkZXIpO1xuXG4gICAgcmV0dXJuIHsgbWFpbiwgbWFpbkhlYWRlciB9O1xuXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVByb2plY3RzKHByb2plY3RzKSB7XG4gICAgLy8gQ2hvb3NpbmcgYWxsIHRoZSBidXR0b25zIHdpdGggcHJvamVjdG5hbWVzIFxuICAgIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RzLWxpc3QtYnV0dG9uXCIpO1xuICAgIC8vIEl0ZXJhdGluZyB0aHJvdWdoIHRob3NlIGJ1dHRvbnNcbiAgICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgLy8gYWRkaW5nIGNsaWNrIGV2ZW50IGxpc3RlbmVycyB0byB0aGVtXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgLy8gdXBkYXRpbmcgdGhlIGhlYWRlclxuICAgICAgICAgICAgbWFpbkhlYWRlci50ZXh0Q29udGVudCA9IGJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RzW2J1dHRvbi50ZXh0Q29udGVudF0pO1xuICAgICAgICAgICAgLy8gY3JlYXRpbmcgYSB1bCBlbGVtZW50IHRvIGhvbGQgYWxsIHRoZSB0b0RvcyBpbnNpZGVcbiAgICAgICAgICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgICAgICAgICAgLy8gaXRlcmF0aW5nIHRocm91Z2ggZWFjaCBwcm9qZWN0cyBhcnJheSB0aGF0IGhvbGQgdG9EbyBvYmplY3RzXG4gICAgICAgICAgICBwcm9qZWN0c1tidXR0b24udGV4dENvbnRlbnRdLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgLy9jcmVhdGluZyBhIGxpIGVsZW1lbnQgdG8gaG9sZCBlYWNoIHRvRG8gb2JqZWN0c1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgICAgICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoXCJsaS1lbGVtZW50XCIpO1xuICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGluZyB0aHJvdWdoIGVhY2ggdG9EbyBvYmoga2V5XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoaXRlbSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUga2V5IGVxdWFscyBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcInRpdGxlXCIgfHwga2V5ID09PSBcImRlc2NcIiB8fCBrZXkgPT09IFwiZHVlRGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYSBwIGVsZW1lbnQgdG8gaG9sZCB0aGUgdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHV0dGluZyB0aGUgdmFsdWUgb2YgdGhlIGtleSBpbnNpZGUgdGhlIHAgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgcC5pbm5lckhUTUwgPSBpdGVtW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhcHBlbmRpbmcgdGhlIHAgZWxlbWVudCB3aXRoIGluZm8gdG8gdGhlIGxpIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKHApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyBhcHBlbmRpbmcgdGhlIGxpIGVsZW1lbnQgdG8gdGhlIHBhcmVudCB1bCBlbGVtZW50IGNyZWF0ZWQgb24gbGluZSA3OFxuICAgICAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvLyBjbGVhcmluZyBvdXQgdGhlIG1haW4gZGl2IGJlZm9yZSByZW5kZXJpbmcgdGhlIGNvbnRlbnQgaW5zaWRlXG4gICAgICAgICAgICBtYWluRGl2LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgICAgICAvL2FwcGVuZGluZyB0aGUgdWwgaW5zaWRlIHRoZSBtYWluRGl2XG4gICAgICAgICAgICBtYWluRGl2LmFwcGVuZENoaWxkKHVsKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuICAgIH0pXG59O1xuXG5mdW5jdGlvbiBhZGRQcm9qZWN0QnV0dG9uKGJ1dHRvbk5hbWUpIHtcbiAgICBjb25zdCBwcm9qZWN0c0RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdHMtZGl2XCIpO1xuICAgIGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYWRkQnV0dG9uLnRleHRDb250ZW50ID0gYnV0dG9uTmFtZTtcbiAgICBhZGRCdXR0b24uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJhZGQtbmV3LXByb2plY3QtYnRuXCIpXG4gICAgXG4gICAgcHJvamVjdHNEaXYuYXBwZW5kQ2hpbGQoYWRkQnV0dG9uKTtcbiAgICBcbiAgICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoXCJpbnB1dC1maWVsZFwiKTtcblxuICAgICAgICBjb25zdCBpbnB1dEZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dEZpZWxkLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICBpbnB1dEZpZWxkLnNldEF0dHJpYnV0ZShcImlkXCIsIFwicHJvamVjdC1pbnB1dFwiKTtcbiAgICAgICAgaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoXCJtYXhsZW5ndGhcIiwgXCIyNFwiKTtcbiAgICAgICAgaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIkVudGVyIHByb2plY3QgbmFtZVwiKTtcblxuICAgICAgICBjb25zdCBhZGRQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgYWRkUHJvamVjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICAgICAgICBhZGRQcm9qZWN0QnV0dG9uLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYWRkLXByb2plY3QtYnRuXCIpO1xuICAgICAgICBhZGRQcm9qZWN0QnV0dG9uLnRleHRDb250ZW50ID0gXCJBZGRcIjtcblxuICAgICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBjYW5jZWxCdXR0b24uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICAgICAgY2FuY2VsQnV0dG9uLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY2FuY2VsLWFkZC1wcm9qZWN0LWJ0blwiKTtcbiAgICAgICAgY2FuY2VsQnV0dG9uLnRleHRDb250ZW50ID0gXCJDYW5jZWxcIjtcbiAgICAgICAgXG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXRGaWVsZCk7XG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoYWRkUHJvamVjdEJ1dHRvbik7XG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoY2FuY2VsQnV0dG9uKTtcblxuICAgICAgICBwcm9qZWN0c0Rpdi5hcHBlbmRDaGlsZChmb3JtKTtcbiAgICAgICAgXG4gICAgICAgIGFkZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgaGFuZGxlTmV3UHJvamVjdHMoKTtcbiAgICB9KVxuICAgIFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU5ld1Byb2plY3RzKCkge1xuICAgIGNvbnN0IGFkZEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkLXByb2plY3QtYnRuXCIpO1xuICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FuY2VsLWFkZC1wcm9qZWN0LWJ0blwiKTtcblxuICAgIGFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dHRlZE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3QtaW5wdXRcIikudmFsdWU7XG4gICAgICAgIGFkZE5ld1Byb2plY3QoaW5wdXR0ZWROYW1lKTtcbiAgICAgICAgY29uc29sZS50YWJsZSh0b0Rvc09iaik7XG4gICAgXG4gICAgfSk7XG4gICAgXG4gICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlucHV0LWZpZWxkXCIpO1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1uZXctcHJvamVjdC1idG5cIik7XG4gICAgICAgIGlmIChmb3JtKSBmb3JtLnJlbW92ZSgpO1xuICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG5cbiAgICB9KVxufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiJdLCJuYW1lcyI6WyJjcmVhdGVUb0RvIiwidGl0bGUiLCJkZXNjIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwiY29tcGxldGVkIiwiaWQiLCJEYXRlIiwibm93IiwicHJpb3JpdGllcyIsInRvRG9zT2JqIiwiYWRkVG9Eb09iaiIsInRvRG8iLCJwcm9qZWN0IiwicHVzaCIsIm5ld0RvIiwiYW5vdGhlckRvIiwidGhpcmRUb0RvIiwicHJvamVjdHMiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsIm1haW4iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibWFpbkhlYWRlciIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiY3JlYXRlSGVhZGVyIiwibWFpbkRpdiIsImNyZWF0ZU1haW5EaXYiLCJwcm9qZWN0c0RpdiIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9qZWN0c0tleXMiLCJPYmplY3QiLCJrZXlzIiwiaW5uZXJIVE1MIiwicHJvamVjdEhlYWRlciIsImZvckVhY2giLCJrZXkiLCJidXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJidXR0b25OYW1lIiwiYWRkQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvcm0iLCJpbnB1dEZpZWxkIiwiYWRkUHJvamVjdEJ1dHRvbiIsImNhbmNlbEJ1dHRvbiIsImFkZEJ0biIsImNhbmNlbEJ0biIsImlucHV0dGVkTmFtZSIsInZhbHVlIiwidGFibGUiLCJyZW1vdmUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJoYW5kbGVOZXdQcm9qZWN0cyIsImNyZWF0ZUJ1dHRvbnNGb3JFYWNoUHJvamVjdE9uU2lkZWJhciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ1bCIsIml0ZW0iLCJsaSIsInAiXSwic291cmNlUm9vdCI6IiJ9